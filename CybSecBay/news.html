<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>CyberSec News — Cybersecbay</title>
<link rel="icon" type="image/png" href="WhatsApp Image 2025-08-28 at 6.15.08 PM.jpeg" />
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Courier+Prime:wght@400;700&display=swap" rel="stylesheet">
<style>
/* === Neon-cyan theme (matches your Courses page) === */
:root {
  --color-primary: #cbce13;
  --color-secondary: #00ff41;
  --color-text: #ccc;
  --color-dark: #0a0a0a;
  --card-bg: rgba(0, 212, 255, 0.04);
  --card-border: rgba(0,212,255,0.14);
  --muted: #9fbac7;
  --glass: rgba(255,255,255,0.02);
}

* { box-sizing: border-box; margin: 0; padding: 0; }
html,body { height: 100%; }
body {
  font-family: 'Courier Prime', monospace;
  background: var(--color-dark);
  color: var(--color-text);
  padding-top: 80px;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow-x: hidden;
}

/* MATRIX */
.matrix-bg { position: fixed; inset: 0; z-index: -2; opacity: 0.09; filter: hue-rotate(200deg) saturate(130%); }

/* NAVBAR */
.navbar {
  position: fixed;
  top: 0;
  width: 100%;
  background: rgba(0,0,0,0.9);
  backdrop-filter: blur(10px);
  border-bottom: 2px solid var(--color-primary);
  z-index: 1000;
  padding: 1rem 2rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.logo {
  font-family: 'Orbitron', monospace;
  font-size: 1.8rem;
  font-weight: 900;
  color: var(--color-primary);
  text-shadow: 0 0 20px var(--color-primary);
  text-decoration: none;
}

/* Burger menu (Type A) */
.burger-menu {
  cursor: pointer;
  display: flex;
  flex-direction: column;
  gap: 4px;
}
.burger-line {
  width: 25px;
  height: 3px;
  background: var(--color-primary);
  transition: 0.3s;
  box-shadow: 0 0 10px var(--color-primary);
}
.burger-menu.active .burger-line:nth-child(1) { transform: rotate(-45deg) translate(-5px,6px); }
.burger-menu.active .burger-line:nth-child(2) { opacity: 0; }
.burger-menu.active .burger-line:nth-child(3) { transform: rotate(45deg) translate(-5px,-6px); }

/* Mobile slide-in menu */
.mobile-menu {
  position: fixed;
  top: 0;
  right: -100%;
  width: 320px;
  height: 100vh;
  overflow-y: auto;
  background: rgba(0,0,0,0.95);
  backdrop-filter: blur(10px);
  border-left: 2px solid var(--color-primary);
  transition: 0.3s;
  z-index: 999;
  padding: 6rem 2rem;
}
.mobile-menu.active { right: 0; }
.mobile-menu a {
  display: block;
  color: var(--color-primary);
  text-decoration: none;
  padding: 1rem 0;
  border-bottom: 1px solid rgba(0,212,255,0.08);
  transition: 0.22s;
  font-size: 1.05rem;
}
.mobile-menu a:hover { color: var(--color-secondary); padding-left: 1rem; text-shadow: 0 0 10px var(--color-secondary); }

/* Page header */
.page-header {
  text-align: center;
  padding: 4rem 2rem 2rem;
  background: linear-gradient(45deg, var(--color-dark), #071822, var(--color-primary));
  border-bottom: 2px solid var(--color-primary);
}
.page-title {
  font-family: 'Orbitron', monospace;
  font-size: 2.8rem;
  font-weight: 900;
  color: var(--color-primary);
  text-shadow: 0 0 30px rgba(0,212,255,0.12);
  margin-bottom: 0.4rem;
}
.page-subtitle {
  font-size: 1rem;
  color: var(--muted);
}

/* Main content */
.main-content { max-width: 1200px; margin: 0 auto; padding: 2rem; }

/* Toolbar */
.toolbar { display: flex; justify-content: space-between; align-items: center; gap: 12px; margin: 12px 0 20px; }
.search { display:flex; align-items:center; gap:8px; background:var(--glass); padding:8px; border-radius:10px; border:1px solid rgba(0,212,255,0.06); }
.search input { background:transparent; border:none; outline:none; color:var(--color-text); width:260px; padding:6px; font-size:0.95rem; }
.button { padding:9px 14px; border-radius:10px; border:none; background:linear-gradient(90deg,var(--color-primary),#0099cc); color:#000; font-family:'Orbitron'; cursor:pointer; box-shadow:0 8px 22px rgba(0,212,255,0.15); }
.ghost { padding:8px 12px; border-radius:10px; border:1px solid rgba(255,255,255,0.04); background:transparent; color:var(--muted); cursor:pointer; }

/* Grid - Hybrid Cyber Card (Option 3) */
.grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px,1fr)); gap: 22px; margin-top: 6px; }
.card {
  background: var(--card-bg);
  border-radius: 12px;
  padding: 16px;
  border: 1px solid var(--card-border);
  display:flex;
  flex-direction:column;
  gap:12px;
  transition: transform .22s, box-shadow .22s;
  position: relative; overflow: hidden;
}
.card:hover { transform: translateY(-10px); box-shadow: 0 18px 40px rgba(0,0,0,0.6); border-color: rgba(0,212,255,0.28); }
.card::after {
  content:"";
  position:absolute;
  left:-120%;
  top:0;
  width:40%;
  height:100%;
  background: linear-gradient(90deg, transparent, rgba(0,212,255,0.03), transparent);
  transform: skewX(-18deg);
  transition: all .6s;
}
.card:hover::after { left:120%; }

.card-media { width:100%; height:160px; border-radius:8px; background:#03181f; background-size:cover; background-position:center; border:1px solid rgba(255,255,255,0.02); }
.headline { font-family:'Orbitron'; color:var(--color-primary); font-size:1.02rem; line-height:1.18; }
.summary { color:var(--color-text); font-size:0.95rem; line-height:1.5; min-height:56px; }

.meta-row { display:flex; justify-content:space-between; align-items:center; gap:8px; margin-top:6px; }
.chips { display:flex; gap:8px; align-items:center; }
.chip { padding:6px 10px; border-radius:999px; border:1px solid rgba(0,212,255,0.06); background:rgba(0,212,255,0.02); color:var(--muted); font-size:0.78rem; }

.actions { display:flex; justify-content:space-between; align-items:center; gap:12px; margin-top:8px; }
.readlink { display:inline-block; padding:10px 12px; border-radius:8px; background:linear-gradient(90deg,var(--color-primary),#0099cc); color:#001; font-family:'Orbitron'; text-decoration:none; }
.source { color:var(--muted); font-size:0.85rem; }

.center { display:flex; align-items:center; justify-content:center; }
.loading { padding:12px 16px; background:rgba(0,0,0,0.35); border-radius:10px; color:var(--muted); }

/* Footer */
.footer { background:#000; border-top:2px solid var(--color-primary); padding:3rem 2rem 1rem; margin-top: 36px; }
.footer-content { max-width:1200px; margin:0 auto; display:grid; grid-template-columns:repeat(auto-fit,minmax(250px,1fr)); gap:16px; }
.footer-section h3 { color:var(--color-primary); font-family:'Orbitron'; margin-bottom:8px; }
.footer-section a { display:block; color:var(--muted); text-decoration:none; margin-bottom:6px; }
.footer-bottom { text-align:center; margin-top:12px; color:#666; }

@media (max-width: 768px) {
  .page-title { font-size:2.2rem; }
  .search input { width: 140px; }
  .card-media { height: 140px; }
}

/* Grid becomes single-column flexible list */
.grid {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

/* Horizontal cyber card */
.card {
  display: flex;
  flex-direction: row;
  align-items: stretch;
  gap: 16px;
  padding: 16px;
  border-radius: 12px;
  background: var(--card-bg);
  border: 1px solid var(--card-border);
  transition: 0.25s ease;
}

/* Hover effect */
.card:hover {
  transform: translateY(-6px);
  box-shadow: 0 12px 30px rgba(0, 0, 0, 0.55);
  border-color: rgba(0, 212, 255, 0.3);
}

/* Image on left side */
.card-media {
  width: 180px;
  min-width: 180px;
  height: 120px;
  border-radius: 10px;
  background: #03181f;
  background-size: cover;
  background-position: center;
  border: 1px solid rgba(255,255,255,0.05);
}

/* Content on right */
.card-content {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  flex: 1;
}

/* Title */
.headline {
  font-family: 'Orbitron';
  color: var(--color-primary);
  font-size: 1rem;
  margin-bottom: 6px;
}

/* Shortened description */
.summary {
  font-size: 0.88rem;
  color: var(--color-text);
  line-height: 1.38;
  max-height: 52px;
  overflow: hidden;
}

/* Meta row stays compact */
.meta-row {
  display: flex;
  gap: 10px;
  margin: 8px 0;
}

.chips {
  display: flex;
  gap: 8px;
}

.chip {
  padding: 5px 9px;
  font-size: 0.75rem;
  border-radius: 999px;
}

/* Actions row becomes right-aligned */
.actions {
  display: flex;
  justify-content: flex-end;
  align-items: center;
  gap: 12px;
}

/* Read button stays compact */
.readlink {
  padding: 8px 12px;
  border-radius: 8px;
  background: linear-gradient(90deg, var(--color-primary), #0099cc);
  color: #001;
  text-decoration: none;
  font-family: 'Orbitron';
  font-size: 0.82rem;
}

/* Mobile-friendly: stacks back into vertical */
@media (max-width: 768px) {
  .card {
    flex-direction: column;
  }
  .card-media {
    width: 100%;
    height: 180px;
  }
}

</style>
</head>
<body>
  <!-- Matrix Background -->
  <canvas class="matrix-bg" id="matrix"></canvas>

  <!-- Navbar -->
  <nav class="navbar" role="navigation" aria-label="Main">
    <a href="index.html" class="logo">Cybersecbay</a>
    <div style="display:flex;align-items:center;gap:14px">
      <div class="burger-menu" id="burgerMenu" aria-hidden="false" aria-label="Menu">
        <div class="burger-line"></div>
        <div class="burger-line"></div>
        <div class="burger-line"></div>
      </div>
    </div>
  </nav>

  <!-- Mobile Menu (Type A) -->
  <div class="mobile-menu" id="mobileMenu" aria-hidden="true">
    <a href="index.html">Home</a>
        <a href="roadmaps.html">Roadmaps</a>
        <a href="ebooks.html">eBooks</a>
        <a href="cheatsheets.html">Cheatsheets</a>
        <a href="courses.html">Courses</a>
        <a href="playlists.html">YouTube Playlists</a>
        <a href="videos.html">Recorded Videos</a>
        <a href="bootcamps.html">Bootcamps/Hackathons</a>      
        <a href="jobs.html">Job Portal</a>
        <a href="cybersectools.html">CyberSec Tools</a>        
        <a href="news.html">CyberSec News</a>
        <a href="ai.html">CyberSec AI</a>
        <a href="https://cybersec-acadamy.vercel.app/" target="_blank">CyberSec Acadamy</a>
        <a href="about.html">About Us</a>
  </div>

  <!-- Page Header -->
  <header class="page-header" role="banner">
    <h1 class="page-title">CyberSec News</h1>
    <p class="page-subtitle">Curated cyber news — updated daily</p>
  </header>

  <!-- Main Content -->
  <main class="main-content" role="main">
    <div class="toolbar" role="region" aria-label="News toolbar">
      <div class="search" role="search" aria-label="Filter news">
        <input id="qInput" placeholder="filter: ransomware, breach, malware, cloud..." aria-label="Search news">
        <button id="searchBtn" class="ghost" aria-label="Apply filter">Filter</button>
      </div>
      <div style="display:flex;align-items:center;gap:10px">
        <button id="refreshBtn" class="button" aria-label="Refresh news">Refresh</button>
        <div id="status" class="center" aria-live="polite"></div>
      </div>
    </div>

    <section id="newsGrid" class="grid" aria-live="polite" aria-busy="false"></section>

    <div style="margin-top:18px;color:var(--muted);font-size:0.92rem">
      News provided via GNews API. The key below is used client-side for demo/testing; for production use a server proxy to protect your key.
    </div>
  </main>

  <!-- Footer -->
  <footer class="footer" role="contentinfo">
    <div class="footer-content">
      <div class="footer-section">
        <h3>Quick Links</h3>
        <a href="cheatsheets.html">Cheatsheets</a>
        <a href="ebooks.html">eBooks</a>
        <a href="videos.html">Recorded Videos</a>
        <a href="courses.html">Courses</a>
      </div>
      <div class="footer-section">
        <h3>Resources</h3>
        <a href="playlists.html">YouTube Playlists</a>
        <a href="roadmaps.html">Roadmaps</a>
        <a href="bootcamps.html">Bootcamps/Hackathons</a>
        <a href="about.html">About</a>
      </div>
      <div class="footer-section">
        <h3>Contact</h3>
        <a href="mailto:cybersecbay@gmail.com">cybersecbay@gmail.com</a>
      </div>
    </div>
    <div class="footer-bottom">&copy; 2025 Cybersecbay. All rights reserved.</div>
  </footer>

<script>
/* ================= MATRIX (robust) ================= */
(function(){
  const canvas = document.getElementById('matrix');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');

  let width = window.innerWidth;
  let height = window.innerHeight;
  const fontSize = 12;
  let columns = Math.floor(width / fontSize);
  let drops = new Array(columns).fill(1);
  const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789@#$%^&*(){}[]<>~";

  function resize() {
    width = window.innerWidth;
    height = window.innerHeight;
    canvas.width = width;
    canvas.height = height;
    columns = Math.floor(width / fontSize);
    drops = new Array(columns).fill(1);
  }
  resize();
  window.addEventListener('resize', resize);

  function draw() {
    ctx.fillStyle = "rgba(0,0,0,0.05)";
    ctx.fillRect(0,0,width,height);
    ctx.fillStyle = "#00d4ff";
    ctx.font = fontSize + "px monospace";
    for (let i = 0; i < drops.length; i++) {
      const text = chars[Math.floor(Math.random() * chars.length)];
      ctx.fillText(text, i * fontSize, drops[i] * fontSize);
      if (drops[i] * fontSize > height && Math.random() > 0.975) drops[i] = 0;
      drops[i]++;
    }
  }
  const interval = setInterval(draw, 40);
  window.__cybersec_matrix_stop = () => { clearInterval(interval); window.removeEventListener('resize', resize); };
})();

/* ================= BURGER MENU ================= */
(function(){
  const burger = document.getElementById('burgerMenu');
  const menu = document.getElementById('mobileMenu');
  if (!burger || !menu) return;

  burger.addEventListener('click', () => {
    burger.classList.toggle('active');
    menu.classList.toggle('active');
    menu.setAttribute('aria-hidden', menu.classList.contains('active') ? 'false' : 'true');
  });

  document.addEventListener('click', (e) => {
    if (!burger.contains(e.target) && !menu.contains(e.target)) {
      burger.classList.remove('active');
      menu.classList.remove('active');
      menu.setAttribute('aria-hidden','true');
    }
  });
})();

/* ================= NEWS DATA CONFIG ================= */
const API_KEY = "pub_0fe37809d19f47d7bdcb3ecde6e36486";
const API_ENDPOINT = "https://newsdata.io/api/1/news";
const CACHE_KEY = "cybersec_news_cache_v1";
const CACHE_TIME_KEY = "cybersec_news_cache_time_v1";
const AUTO_REFRESH_MS = 24 * 60 * 60 * 1000; // 24 hours

const newsGrid = document.getElementById("newsGrid");
const statusEl = document.getElementById("status");
const refreshBtn = document.getElementById("refreshBtn");
const searchBtn = document.getElementById("searchBtn");
const qInput = document.getElementById("qInput");

function showStatus(msg) {
  statusEl.innerHTML = `<div class="loading">${msg}</div>`;
}
function clearStatus() {
  statusEl.innerHTML = "";
}

function formatDate(dt) {
  try { return new Date(dt).toLocaleString(); }
  catch(_) { return dt; }
}

/* ================= CARD BUILDER ================= */
function createCard(article) {
  const card = document.createElement("article");
  card.className = "card";

  if (article.image_url) {
    const media = document.createElement("div");
    media.className = "card-media";
    media.style.backgroundImage = `url('${article.image_url}')`;
    card.appendChild(media);
  }

  const head = document.createElement("div");
  head.className = "headline";
  head.textContent = article.title || "Untitled";

  const desc = document.createElement("div");
  desc.className = "summary";
  desc.textContent = article.description || "";

  const metaRow = document.createElement("div");
  metaRow.className = "meta-row";
  const chips = document.createElement("div");
  chips.className = "chips";

  const srcChip = document.createElement("div");
  srcChip.className = "chip";
  srcChip.textContent = article.source_id || "Unknown";

  const timeChip = document.createElement("div");
  timeChip.className = "chip";
  timeChip.textContent = article.pubDate ? formatDate(article.pubDate) : "";

  chips.appendChild(srcChip);
  chips.appendChild(timeChip);
  metaRow.appendChild(chips);

  const actions = document.createElement("div");
  actions.className = "actions";

  const author = document.createElement("div");
  author.className = "source";
  author.textContent = article.creator ? "By " + article.creator : "";

  const read = document.createElement("a");
  read.className = "readlink";
  read.href = article.link || "#";
  read.target = "_blank";
  read.rel = "noopener noreferrer";
  read.textContent = "Read original";

  actions.appendChild(author);
  actions.appendChild(read);

  const content = document.createElement("div");
content.className = "card-content";

content.appendChild(head);
content.appendChild(desc);
content.appendChild(metaRow);
content.appendChild(actions);

card.appendChild(content);


  return card;
}

/* ================= RENDER ================= */
function renderArticles(list) {
  newsGrid.innerHTML = "";

  if (!list || list.length === 0) {
    newsGrid.innerHTML = `
      <div class="center" style="grid-column:1/-1">
        <div class="loading">No news found.</div>
      </div>`;
    return;
  }

  list.forEach(article => {
    newsGrid.appendChild(createCard(article));
  });

  const headerTop = document.querySelector(".page-header").offsetTop;
  window.scrollTo({ top: headerTop, behavior: "smooth" });
}

/* ================= FETCH WITH NEWSDATA.IO ================= */
async function fetchNews(query) {
  clearStatus();
  newsGrid.setAttribute("aria-busy", "true");
  showStatus("Fetching cybersecurity headlines...");

  try {
    const qText = encodeURIComponent(
      query || "cybersecurity OR malware OR ransomware OR 'cyber attack'"
    );

    // PUBLIC KEY only allows basic params
    const url = `${API_ENDPOINT}?apikey=${API_KEY}&q=${qText}&language=en`;

    const res = await fetch(url);
    const data = await res.json();

    if (data.status !== "success" || !data.results) {
      throw new Error("NewsData returned error");
    }

    localStorage.setItem(CACHE_KEY, JSON.stringify(data.results));
    localStorage.setItem(CACHE_TIME_KEY, Date.now().toString());

    renderArticles(data.results);
    clearStatus();
    newsGrid.setAttribute("aria-busy","false");

  } catch (err) {
    console.error(err);

    const cached = localStorage.getItem(CACHE_KEY);
    if (cached) {
      renderArticles(JSON.parse(cached));
      showStatus("Loaded cached headlines due to API error.");
      setTimeout(clearStatus, 3000);
    } else {
      showStatus("Failed to load news. Check API key or network.");
    }

    newsGrid.setAttribute("aria-busy", "false");
  }
}

/* ================= INITIAL LOAD ================= */
async function loadInitial() {
  const cached = localStorage.getItem(CACHE_KEY);
  const cachedTime = parseInt(localStorage.getItem(CACHE_TIME_KEY) || "0", 10);
  const now = Date.now();
  const q = qInput.value.trim() || null;

  if (cached && now - cachedTime < AUTO_REFRESH_MS && !q) {
    renderArticles(JSON.parse(cached));
    clearStatus();
    setTimeout(() => fetchNews(q), 1500);
  } else {
    await fetchNews(q);
  }
}

/* ================= EVENTS ================= */
refreshBtn.addEventListener("click", () =>
  fetchNews(qInput.value.trim() || null)
);

searchBtn.addEventListener("click", () =>
  fetchNews(qInput.value.trim() || null)
);

qInput.addEventListener("keypress", (e) => {
  if (e.key === "Enter") fetchNews(qInput.value.trim() || null);
});

/* Auto refresh every 24 hours */
setInterval(() => {
  const q = qInput.value.trim() || null;
  fetchNews(q);
}, AUTO_REFRESH_MS);

/* Init */
loadInitial();

async function fetchNews(query) {
  clearStatus();
  newsGrid.setAttribute("aria-busy", "true");
  showStatus("Fetching cybersecurity headlines...");

  try {
    const qText = encodeURIComponent(
      query ||
      '(cybersecurity OR "cyber security" OR infosec OR "data breach" OR hacking OR ransomware OR malware OR "zero day" OR exploit OR APT OR CVE)'
    );

    const url = `${API_ENDPOINT}?apikey=${API_KEY}&q=${qText}&language=en`;

    const res = await fetch(url);
    const data = await res.json();

    if (data.status !== "success" || !data.results)
      throw new Error("NewsData returned error");

    localStorage.setItem(CACHE_KEY, JSON.stringify(data.results));
    localStorage.setItem(CACHE_TIME_KEY, Date.now().toString());
    renderArticles(data.results);
    clearStatus();
    newsGrid.setAttribute("aria-busy","false");

  } catch (err) {
    console.error(err);
    const cached = localStorage.getItem(CACHE_KEY);

    if (cached) {
      renderArticles(JSON.parse(cached));
      showStatus("Loaded cached headlines due to API error.");
      setTimeout(clearStatus, 3000);
    } else {
      showStatus("Failed to load news. Check API key or network.");
    }

    newsGrid.setAttribute("aria-busy", "false");
  }
}



</script>
</body>
</html>
